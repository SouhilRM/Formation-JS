<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Apprentissage JS</title>

    <!--tu peux ecrire du js ici-->
    <!--si tu veux une bonne doc consulte celle de mozilla elle est bien foutu https://developer.mozilla.org/fr/docs/Web/JavaScript-->

    <!--Les Variables-->
    <script>
        /*
            Remarques :
            -const : c'est pour declarer une constante qui ne sera plus changeable plus tard
            -let : c'est pour declarer une variable qui peux plus tard etre changer normal

            -var : c'est pour declarer une variable 
            - : ne rien maitre c'est aussi considerer comme 'var'

            -remarque : le 'var' et le rien '' n'est plus utiliser meme si ca marche on prefere utiliser le 'const' et le 'let'
        */

        const constante = 2
        let variable = 3
        variable = 4 //il prendra en compte la derniere val qui est 4

        var autre_variable = 5
        encore_autre_var = 6

        /*
            Petite Astuce :
            quand tu va coder du js mets toutes des variables en 'cont' et si plus tard t'as besoin de changer la valeur d'une variable tu la remets en 'let'
        */
       
        const nbr = 10 
        const string_type_1 = " Salem !! " //guillemets
        const string_type_2 = ' Hello !! ' //cotes
        const string_type_3 = ` Bonjour !! ` //backtics
        const booleen = true 
        const non_defini = undefined
        const tableau = [1,2,3,'coucou',3.14,[10,20,30]] //var de type tableau
        const personne = { //var de type OBJET
            age: 18,
            nom: "Ramdane Mamacha",
            ptenom: 'Souhil',
            notes: [10,11,20,15],
            job: {
                name: 'informaticien',
                heures: 35,
                specialisation: "devloppement web",
            }
        }//pour acceder par exemple à la spé tu mets => personne.job.specialisation

        //Petit Tips: pour connaitre le type d'une variable tu utilise => 'typeof'

    </script>

    <!--Les conditions-->
    <script>
        //pour afficher un truc directement sur la console tu utilise "console.log()"
        console.log('ceci est du text ecrits grace à console.log() ')

        let age = 10
        if (age >20) {
            console.log("age superieure à 20")
        }
        else console.log("age inferieure à 20")

        //le triple egale vérifile en plus de la valeur comme le double égale, le TYPE
        if( 10 === '10' ){
            console.log("c'est vrai")
        }else console.log("c'est faux")
        //Petit Tips: Utilise tjr le TRIPLE égale car le double est trop imprévisible
        //La meme chose pour la négation utilise "!=="


        //les opérateurs logiques
        age = 17
        const pays = 'FR'

        if((age >= 18 && pays === 'FR') || (age >= 20 && pays ==='USA')){
            console.log("tu a la permission de conduire c'est bon")
        }
        else console.log("tu n'as pas la permission mon pote")

        //inverser une condition tu mets un '!' avant
        if(!age<18)console.log('tu es majeure !!')
        else console.log("tu es mineur !!")
        
        //ya aussi le switch comme pour les autres languages :
        switch (pays) {
            case 'FR':
                console.log("je sui en France")
                break;
            
            case 'DZ':
                console.log("je sui en Algérie")
                break;

            case 'USA':
                console.log("je sui aux Etats-Unis")
                break;
        
            default:
                console.log('je suis autre pars')
                break;
        }

        //pour saisir une valeur via le navigateur tu peux utiliser le "prompt()"
        //const saisie = prompt("saisissez une valeur svp : ")
        /*

        const val_1 = prompt("veillez saisir une valeur svp : ")
        const val_2 = prompt("veillez saisir une autre valeur svp : ")

        const val_3 = val_1 * val_2

        if (val_3 < 0) {
            console.log(`le resultat de ${val_1} * ${val_2} est négatif !! et ca donnne une valeur égale à ${val_3}`)
        }else
            console.log(`le resultat de ${val_1} * ${val_2} est positif !! et ca donnne une valeur égale à ${val_3}`)
        */
    </script>

    <!--Les boucles-->
    <script>
        //premier type de boucle et le pire car tu peux facilement tomber dans une boucle infinie
        let i=0
        while (i < 5) {
            console.log('Bonjour' + i + 'coucou')
            console.log(`Hello number : ${i}`)
            i++
        }

        //deuxieme type de boucle tres utile pour parcourir les tableaux
        const tableauB = [12,10.2,'coucou',"gourga3",[1,2,3]]
        for(let i=0; i<tableauB.length; i++)
        console.log(tableauB[i])

        /*
            Exercice: l'utilisateur doit entrer un chiffre entre 1 et 10 et tu dois dire si il a entrer ce chiffre tt en affichant les chiffre en dessous
        */
        /*
        //soluce : 
        const chiffre = prompt("veuillez saisir un chiffre entre 1 et 10 : ")
        if (chiffre <0 || chiffre >10) {
            console.log("votre chiffre "+chiffre+" n'est pas entre 1 et 10")
        }
        for(let i =0; i<=10; i++){
            if(i == chiffre){
                console.log('votre chiffre '+chiffre+' est bien entre 1 et 10')
                console.log('voici les chiifres en dessous de lui')
                for(let i=1; i<chiffre; i++){
                    console.log(i)
                }
            }
        }
        */
        /*
            Exercice : l'utilisateur doit rentrer une nouvelle valeur à chaque fois jucequ'a ce qu'il devine le bon chiffre cad 8
        */
        /*
        const guest = 8
        while (i !== 8) {
                i = prompt("essayer encore : ") *1
        }console.log('GG!!!')
        */
        //Remarque et Tips : quand tu utilise le prompt l'utilisateur a un input de type string sauf que toi lors de tes exos t'as besoin qu'il saisisse des nombre et t'en a besoin surtt pour pouvoir utiliser les operateurs logiques === et !== et non == et != donc petit tips tu multiplie ton prompt fois un => prompt("") *1

        //Remarque : n'oublie pas qu'as tt moment tu peux utiliser le "break;" pour sortir de force d'une boucle aussi infinie soit elle
        while (true) {
            console.log("ceci est une boucle infinie dont j'ai le controle avec le 'break' ")
            break;
        }

        //Boucle pour objet
        const objets = {
            a: 'tutu',
            b: 'tata',
            c: 'toto'
        }
        for(let objet in objets) console.log(objet)//affiche a,b,c
        for(let objet in objets) console.log(objets[objet])//affiche tutu,tata,toto
        //le IN affiche les indexes de l'objet
        //le OF ne marche pas pour les objets car il ne sont pas ittérables si tu veux afficher le contenu de lobjet tu peux tjr faire comme ca => for(let objet in objets) console.log(objets[objet])

        //Boucle pour tableau
        const tableaux = [11,22,33]
        for(let tableau in tableaux) console.log(tableau)//le IN affiche les indexes du tableau
        for(let tableau of tableaux) console.log(tableau)//le OF afiche le contenu du tableau

    </script>

    <!--Les fonctions-->
    <script>
        //exemple basique
        function canDrive(age, pays) {
            if((age >18 && pays ==='FR') || (age >16 && pays ==='USA')){
                return true
            }
            else return false
        }
        console.log( canDrive(10,'FR') )

        //Remarque : la fonction peux changer la valeur d'une valeure externe sans problème meme si ca n'a pas tro d'intere => prenon comme exemple un tableau d'éléments
        const tableau_f = [10,12,13]
        function change(tab) {
            tab[0]++
        }
        change(tableau_f) //ca incremente bien la premiere valeur du tableau
        console.log(tableau_f)


        //Fonction Fléchées : 
        //une function normale s'ecrits comme ceci
        function somme1(a, b) {
            return a+b
        }
        console.log(somme1(1,2))
        //mais tu peux l'ecrire aussi comme suit ca s'appel les function fléchées
        somme2 = (a,b) => {
            return a+b
        }
        console.log(somme2(2,2))
        //l'avantage avec ces functions fléchées c'est que si tu n'as qu'un seul retour alors tu peux abrégé comme suit :
        somme21 = (a,b) => a+b
        console.log(somme2(3,3))


        //Fonction ColBack : C'est une fonction qui s'exécute si une condition spécifique est vérifiée
        const isPair = function(n,cb){
            if(n % 2 === 0){
                cb(n)
            }
        }
        isPair(2, function (a) {
            console.log('ceci est bien un nombre pair ' + a)
        })
        //dans cette exemple la function callback est "cb()" qui est entrée comme parametres dans la function isPair

        /*
            Exercices_1 : faire une function qui determine si un mot est un palindrome comme le mot "kayak" inclure MajMin
        */
        /*
            Tips : 
            la méthode ".split('')" : permet de spliter le mot dans un tableau lettre par lettre
            la méthode ".reverse()" : permet d'inverser les élément d'un tableau
            la méthode ".join()" : permet de koindre les éléments t'un pour en faire un mot
            la méthode ".toUpperCase()" : permet de transformer un mot en majuscule
        */
        function isPal(word) {
            const a = word.split('').reverse().join('')
            return a.toUpperCase() === word.toUpperCase()
        }
        console.log(isPal('kayaK'))

        /*
            Exercices_2 : on a un tableau d'objets élèves et il faut calculet la moyenne de leur notes puis on affichera un classement des trois meilleurs 
        */

        let students = [
            {
                name: 'Ahmed',
                note: [1,20,18,19,12]
            },
            {
                name: 'Manel',
                note: [10,2,14,14,16]
            },
            {
                name: 'Youssef',
                note: [10,4,7,9,1]
            },
            {
                name: 'Lilou',
                note: [10,20,18,19,14]
            },
            {
                name: 'Souhil',
                note: [20,20,18,19,20]
            }
        ]

        //Soluce :
        //une fonction qui calcule la moyenne
        function moyenne(tab_note) {
            let somme = 0
            for(let i = 0; i<tab_note.length; i++){
                somme = somme + tab_note[i]
            }
            return somme/tab_note.length
        }
        //une fonction qui ajoute les moyennes
        function students_moyenne(tab_students){
            for(let i = 0; i<tab_students.length; i++){
                students[i].moyenne = moyenne(tab_students[i].note)
            }
        }
        students_moyenne(students)

        console.log(students)

        //une fonction qui trie les etudiants par ordre croissant selon leur moyenne
        function trie_studesnts(tab_students){
            tab_students.sort((a, b) => a.moyenne - b.moyenne)//function(a, b){return a.moyenne - b.moyenne;} la meme chose on a juste utilisé fonction fléché pour abrégé 

            //pk ajouté cette fonction (a, b) => a - b) a l'interieur de la méthose ".sort()" car à la base cette methode est faites pour trier les tableau par ordre alphabétyque donc si tu veux l'utiliser pour trier un tableau d'entiers tu mets => .sort((a, b) => a.moyenne - b.moyenne) et si tu veux l'utiliser pour trier un tableau d'objet => .sort((a, b) => a.l'attributVoulu - b.l'attributVoulu)
        }
        trie_studesnts(students)

        function best_studesnts(tab_students){
            let i =tab_students.length-1
            console.log('TOP 03 des meilleurs étudiants : ')
            while (i>1) {
                console.log(`${tab_students[i].name} avec une moyenne de => ${tab_students[i].moyenne}`)
                i--
            }
        }
        best_studesnts(students)

        /*
            Exercice 03 : si je te donne une phrase je veux que tu me retourne un objet qui contiens le mot et le nombre de fois qu'il apparait ( tu dois aussi prendre en compte les caracteres speciaux je ne veux pas que la fonction les prennent en compte et aussi les majuscule minuscules n'influent pas sur le mot )
        */

        //la phrase
        const phrase = `La belle Isabelle porte une longue robe à fleurs ? Le gentil canard n'est pas aimé des méchants animaux de la vieille ferme ! Le chien affamé mange trés trés vite de chez vite vite. et cela n'envisage rien de bon...`
        //l'objet ou nous allons stocké les mot avec leur nombre d'apparition
        const frequence = {}

        //le tableau ou nous allons stocké chaque mot de la phrase
        const tab_mots = phrase
                        .toLowerCase()//pour mettre toute la phrase en minuscule
                        .replaceAll('...','').replaceAll('.','').replaceAll('!','').replaceAll('?','') //pour remplacer les caracteres speciaux 
                        .split(' ')   //pour spliter la phrase en mots

        
        //Faisons une aparté: 
            //comment ajoué un attribut supplémentaire à objet ?? Prenons l'exemple ci-dessous on a l'objet frequence1 on veut lui ajouté l'age par exemple
            const frequence1 = {
                name: "mahmoud",
                surname: "reda"
            }
            console.log(frequence1)
            //EZ on fait juste comme ca
            frequence1.age = 21
            console.log(frequence1)
            
            //mais là on aimerai ajouté à notre abjet des attribut du tableau job par exemple on veus ajouté => chirurgien: 5500 dans notre objet comment faire ??
            const job = ['chirurgien','dentist','cardiologue']
            console.log(job)
            frequence1.job = job
            console.log(frequence1)

            //logiquement tu va me dire si on suit la logique precedente on fait => frequence.job[0]=5500 
            //frequence.job[0]=5500 mais ca marche pas hammouda !!!
            
            //comment faire du coup ?? dis toi qu'on peux accéder à lattribut de deux manieres différente 
            console.log(frequence1.name)    //toi tu connais que cette maniere
            console.log(frequence1['name']) //mais il y a aussi cette maniere ci
            //frequence1.name ou frequence1['name'] c la mm chose c ca l'astuce

            //revenons à notre exemple donc du coup au lieu de faire frequence1.job[0]=5500 tu fais => frequence1[job[0]]=5500 et là ca marche !!!
            frequence1[job[0]] = 5500
            console.log(frequence1)


        // bien maintenant à partie de cette aparté on peut continuer notre Exercice : 
        for(let i=0; i<=tab_mots.length; i++){ //là tu parcour ton tableau de mots

            if(tab_mots[i] !== ''){ //bien sur tt ca tu le fais SI c pas une chaine de cara vide

                if(frequence[tab_mots[i]]){ //si tu retrouve le mot donc la valeur n'est pas undefined ca veut dire qu'on a trouver quelque chose car undefined est considérée comme etant NULL

                frequence[tab_mots[i]]++ //donc on incrémente

                }else{ //sinon ca veux dire que c la premiere fois qu'on rencontre le mot donc la valeur est undefined donc on initialise à 1

                    frequence[tab_mots[i]] = 1
                }
            }
        }
        console.log(frequence)
        console.log(Object.keys(frequence).length) //affiche la taille de l'objet petit tips comme ca gratuit

        //Deuxieme pârtie de l'exercice on veut afficher les mots qui apparaisse le plus souvent pour cela on va utiliser la function.sort() comme pour lexercice precedent mais le probleme c qu'on a un objet et cette fonction ne marche qu'avec les tableaux donc on doit convertire notre objet en tableau

        const frequenceArray = [] //tu declare d'abord le tableau
        
        for(let i in frequence){//tu utilises la boucle IN pour parcourir ton objet
            frequenceArray.push({//tu utilises la méthode push pour remplir ton tableau avec des objet
                word: i,            //l'attribut 1 => c'est le mot
                count: frequence[i] //l'attribut 2 => c'est le nombre de fois ou il apparait
            })
        }
        //ahh maintenant on peut utiliser la méthode .sort()
        frequenceArray.sort((a,b)=>b.count-a.count)
        console.log(frequenceArray)

        //enfin on affiche les mots qui apparaissent le plus souvent
        console.log(`
        Les trois mots qui apparaissent le plus souvent sont : 
        "${frequenceArray[0].word}" qui apparait => ${frequenceArray[0].count}
        "${frequenceArray[1].word}" qui apparait => ${frequenceArray[1].count}
        "${frequenceArray[2].word}" qui apparait => ${frequenceArray[2].count}
        `)
        
    </script>

    <!--Les fonctions usuelles-->
    <script>
        //en gros nous allons voir les fonctions predefinies les plus utiles

        //La functuion ".at()" : elle est utilisée dans les tableaux pour renvoyé la valeur d'un index donné l'avantage c'est qu'on peux aussi lui donner des valeurs négatives pour pouvoir parcourrir le tableau depuis sa fin
        const tab_1 = [12,15,55,19]
        console.log(tab_1.at(1)) //renvoie 15
        console.log(tab_1.at(-1)) //renvoie 19
        console.log(tab_1.at(-2)) //renvoie 55

        //La function ".concat()" : utilisée pour concaténer deux tableaux
        const tab_2 = ['a','b','c','d']
        console.log(tab_2.concat(tab_1))

        //La function ".filter()" : renvoie des éléments d'un tableau selon des critèeres passés dans la fonction qui sera passé en parametre dans la méthode filter
        const tab_3 = [1,5,8,15,19,20]
        goodNotes = tab_3.filter((note) => note >= 10) //renvoie 15 19 20
        badNotes = tab_3.filter((note) => note < 10) //renvoie 1 5 8
        console.log(goodNotes)
        console.log(badNotes)
        //bien sur tu adaptes la fonction note selon tes criteres

        //La méthode 'includes()' vérifie si un élément fait partie d'un tableau
        console.log(tab_1.includes(55))//renvoie true
        console.log(tab_1.includes(1))//renvoie false

        //La méthode indexOf() : renvoie la valeure de l'index de lélément du tableau
        const tab_4 = ['toto','popo','momo']
        console.log(tab_4.indexOf('popo'))//renvoie 1
        console.log(tab_4.indexOf('roro'))//renvoie -1 quand  la valeur nexiste pas

        //La méthode join() : permet de joindre les differents elements avec un caractere de liaison
        console.log(tab_4.join('-'))//renvoie toto-popo-momo
        console.log(tab_4.join('___'))//renvoie toto___popo___momo

        //La méthode ".map()" SUPER IMPORTANTE : c'est une méthode de TRANSFORMATION d'un tableau elle permet de transformer un tableau en un autre tableau selon des critères passés dans une fonction de transformation
        const map_1 = [1,2,3]
        console.log(map_1.map(x => x*2)) //affiche [2,4,6]

        //autre exemple : on a un tableau d'objets {nom,prenom} et on aimerait bien le transformer en tableau qui contient le nom et le prenom directement dans une chaine de caractères avec des sauts de lignes entre chaques lignes 
        const personnes_map = [
            {nom: 'Soussi' , prenom: 'Faycel'},
            {nom: 'Ramdane Mamcha' , prenom: 'Souhil'},
            {nom: 'Arbaoui' , prenom: 'Rayen'},
            {nom: 'Dib' , prenom: 'Ismet'},
            {nom: 'Bouchour' , prenom: 'Mouhammed'}
        ]
        console.log(personnes_map)
        let personnes = personnes_map.map((p) => `${p.nom} ${p.prenom}`).join('\n')
        console.log(personnes)

        //la méthode ".pop()" permet de supprimer le derniers éléments du tableau; ATTENTION: cette méthode modifie le tableau original
        const pop_tab = [1,85,80,6]
        console.log(pop_tab.pop()) //affiche 6
        console.log(pop_tab) //affiche [1,85,86]

        //la méthode ".shift()" permet de supprimer le premier éléments du tableau; ATTENTION: cette méthode modifie le tableau original
        const shift_tab = [111,85,80,6]
        console.log(shift_tab.shift()) //affiche 111
        console.log(shift_tab) //affiche [85,86,6]

        //la méthode ".push()" permet d'ajouter des éléments au tableau; ATTENTION: cette méthode modifie aussi le tableau original
        const push_tab = ['popo','pipi']
        push_tab.push('papa','pupu')
        console.log(push_tab) //affiche ['popo','pipi','papa',pupu]

        //la méthode '.reverse()' permet de d'inverser le tableau; ATTENTION: cette méthode modifie aussi le tableau original
        const reverse_tab = [1,2,3]
        console.log(reverse_tab.reverse()) //affiche [3,2,1]

        //La méthode slice() renvoie un objet tableau, contenant une copie superficielle (shallow copy) d'une portion du tableau d'origine, la portion est définie par un indice de début et un indice de fin (exclus). Le tableau original ne sera pas modifié.
        const animals = ['ant', 'bison', 'camel', 'duck', 'elephant'];

        console.log(animals.slice(2));
        // Expected output: Array ["camel", "duck", "elephant"]

        console.log(animals.slice(2, 4));
        // Expected output: Array ["camel", "duck"]

        console.log(animals.slice(1, 5));
        // Expected output: Array ["bison", "camel", "duck", "elephant"]

        console.log(animals.slice(-2));
        // Expected output: Array ["duck", "elephant"]

        console.log(animals.slice(2, -1));
        // Expected output: Array ["camel", "duck"]

        console.log(animals.slice());
        // Expected output: Array ["ant", "bison", "camel", "duck", "elephant"]

        //La méthode ".sort()" qui permet d'organser les elements d'un tableau qu'on a deja vu

        //la méthode Object.entries() : permet de renvoyer un tableau avec les clés et les valeurs d'un objet le premiers index c'est la propriété et le second index c'est la valeur associée
        const person = {
            nom: 'Mamcha',
            prenom: 'Souhil',
            age: 23,
            religion: 'islam'
        }
        console.log(Object.entries(person)) //renvoie un tableau de tableau [['nom','mamcha'],['prenom','souhil'],['age',23],['religion','islam']]
        //cela permet d'utiliser une boucle "for of" pour recuperer les propriétés de l'objet; pour rapel l'utilisation d'une boucle for of est impossible sur un objet
        for(const [key,value] of Object.entries(person)){
            console.log(`La clé : ${key}\nLa valeur : ${value}`)
        }

        //Objet.keys() : renvoie les clés de l'objet sous forme de tableau
        console.log(Object.keys(person)) //affiche ['nom','prenom','age','religion']

        //Objet.values() : renvoie les valeurs de l'objet sous forme de tableau
        console.log(Object.values(person)) //affiche ['mamcha','souhil','23','islam']


    </script>
</head>
<body>
    <h1>APPRENTISSAGE DES BASES</h1>
</body>
</html>